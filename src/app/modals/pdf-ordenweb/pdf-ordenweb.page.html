<ion-content>
  <ion-button color="danger" expand="full" (click)="dismiss()" class="btn_cerrar" shape='' size='small'>
    <ion-icon name="close" ></ion-icon>
  </ion-button>
  <ion-card>
    <ion-card-header>
      <ion-row class="fechas">
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Desde</ion-label>
            <ion-input type="date" position="stacked" [value]="fecha_desde| date: 'yyyy-MM-dd'"
              [(ngModel)]="fecha_desde" (ionChange)="validaFecha()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Hasta</ion-label>
            <ion-input type="date" position="stacked" [value]="fecha_hasta| date: 'yyyy-MM-dd'"
              [(ngModel)]="fecha_hasta" (ionChange)="validaFecha()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-button fill="outline"  (click)="mostrarPdf()"><ion-icon slot="start" name="print-outline"></ion-icon> Imprimir</ion-button>
        </ion-col>
         </ion-row>
         <ion-item>
          <div *ngIf="list_ord.length>=300" class="info_size">
            Se estan mostrando los primeros 300 registros de su búsqueda, por favor ser más específico en el filtro
          </div>
          <div *ngIf="list_ord.length<300" class="info_size"> {{list_ord.length}} registro(s) encontrados</div>
  
         </ion-item>
    </ion-card-header>
    <ion-card-content>
      <ion-list *ngIf="this.list_ord"> 
        <ion-item  *ngFor="let item of list_ord">
          <ion-text class="text_grid">
            <ion-row>
              <ion-col size="12">
                <ion-row>
                  <ion-col size="12" class="ion-text-start">
                   <ion-label>
                    <ion-badge color="secondary">Orden: {{item.nro_ord}}</ion-badge> &nbsp;
                   <ion-badge color="secondary">Nro ext: {{(item.nro_ext)?item.nro_ext:'No existe'}}</ion-badge> &nbsp;
                    <ion-badge color="secondary"> Obs ext:   {{(item.obs_ext)?item.obs_ext:'No existe'}}</ion-badge>
                   </ion-label>
                  </ion-col>
                 
                  <ion-col>
                    <ion-text class="nombre_list">
                      {{item.nombre_completo}}
                    </ion-text><br>
                   <ion-text class="doctor" color="secondary">
                    <ion-icon  src="assets/icon/doctor2.svg"></ion-icon>  
                    Dr {{item.nombre_medico}}
                   </ion-text>
                   <br>
                   
                  </ion-col>
                </ion-row>
              </ion-col>
              <ion-col size="12">
                   
            <ion-row>
              <ion-col size="12">
                <ion-label>Análisis</ion-label>
              </ion-col>
              <ion-col *ngFor="let itemAnalisis of item.analisis" >
              <small>  <ion-badge color="tertiary">{{itemAnalisis.des_ana}}</ion-badge></small>
              </ion-col>
               </ion-row>
              </ion-col>
            </ion-row>
            <ion-row>
              
              <ion-col class="ion-text-center fecha">
                {{item.fec_ini}}
              </ion-col>
            </ion-row>
          </ion-text>
        </ion-item>
      </ion-list>


    
    </ion-card-content>
  </ion-card>

</ion-content>
