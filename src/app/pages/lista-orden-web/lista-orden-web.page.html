

<ion-content>
  <div class="franja_usr">
    <ion-icon name="person-circle-outline" *ngIf="tipo_user=='pat'"></ion-icon> 
    <ion-icon src="assets/icon/doctor3.svg" *ngIf="tipo_user=='med'"></ion-icon> 
    <ion-icon name="business" *ngIf="tipo_user=='ref'"></ion-icon> 
    {{des_usr}}
  </div>

  <ion-card>
    <ion-card-header>
      <ion-row class="fechas">
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Desde</ion-label>
            <ion-input type="date" position="stacked" [value]="fecha_desde| date: 'yyyy-MM-dd'"
              [(ngModel)]="fecha_desde" (ionChange)="validaFecha()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Hasta</ion-label>
            <ion-input type="date" position="stacked" [value]="fecha_hasta| date: 'yyyy-MM-dd'"
              [(ngModel)]="fecha_hasta" (ionChange)="validaFecha()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-button fill="outline"  (click)="mostrarPdf()"><ion-icon slot="start" name="print-outline"></ion-icon> Imprimir</ion-button>
        </ion-col>
        <!--
        <ion-col [size]="mobile?'12':'6'">
          <div *ngIf="tipo_server==1&&tipo_user!='pat'" class="search-input">
            <ion-searchbar *ngIf="filtro||!mobile" [placeholder]="'Buscar: cedula o nombre' " [(ngModel)]="dato_find"
              (ionCancel)="cancelFiltroBusqueda($event)" showCancelButton="focus" debounce="2000"
              (ionChange)="buscaxFiltro()">
            </ion-searchbar>
          </div>
          <small class="info-search" *ngIf="dato_find!=''&&dato_find.length<4">Debe digitar más de 3 caracteres
        </ion-col>
        -->
      </ion-row>
    </ion-card-header>
    <ion-card-content>
      <ion-list *ngIf="this.list_ord"> 
        <ion-item  *ngFor="let item of list_ord">
          <ion-text class="text_grid">
            <ion-row>
              <ion-col size="6">
                <ion-row>
                  <ion-col size="12" class="ion-text-start">
                   <ion-label>
                    <ion-badge color="secondary">Orden: {{item.nro_ord}}</ion-badge> &nbsp;
                   <ion-badge color="secondary">Nro ext: {{(item.nro_ext)?item.nro_ext:'No existe'}}</ion-badge> &nbsp;
                    <ion-badge color="secondary"> Obs ext:   {{(item.obs_ext)?item.obs_ext:'No existe'}}</ion-badge>
                   </ion-label>
                  </ion-col>
                 
                  <ion-col>
                    <ion-text class="nombre_list">
                      {{item.nombre_completo}}
                    </ion-text><br>
                   <ion-text class="doctor" color="secondary">
                    <ion-icon  src="assets/icon/doctor2.svg"></ion-icon>  
                    Dr {{item.nombre_medico}}
                   </ion-text>
                   <br>
                   
                  </ion-col>
                </ion-row>
              </ion-col>
              <ion-col size="6">
                   
            <ion-row>
              <ion-col size="12">
                <ion-label>Análisis</ion-label>
              </ion-col>
              <ion-col *ngFor="let itemAnalisis of item.analisis" >
              <small>  <ion-badge color="tertiary">{{itemAnalisis.des_ana}}</ion-badge></small>
              </ion-col>
               </ion-row>
              </ion-col>
            </ion-row>
            <ion-row>
              
              <ion-col class="ion-text-center fecha">
                {{item.fec_ini}}
              </ion-col>
            </ion-row>
            <!--
            <ion-grid >
                <ion-row  >
                  <ion-col size="4">
                    <ion-row>
                      <ion-col>
                        {{item.nro_ord}}
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col >
                        <ion-text class="nombre_list">{{item.nombre_completo}}</ion-text>
                        <br>
                        <ion-text color="primary"> <ion-icon  src="assets/icon/doctor2.svg"> Dr.</ion-icon>{{item.nombre_medico}}</ion-text>
                        <br>
                        <ion-text color="secondary"><ion-icon name="bookmark-outline"></ion-icon>{{item.origen}}</ion-text>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col size="8">
                    <ion-row>
                      <ion-col>
                        Analisis
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col *ngFor="let itemAnalisis of item.analisis" class="ion-text-start">
                       <ion-chip color="secondary"> {{itemAnalisis.des_ana}}</ion-chip>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                </ion-row>

          
            </ion-grid>

            -->
          </ion-text>
        </ion-item>
      </ion-list>


    
    </ion-card-content>
  </ion-card>

</ion-content>
